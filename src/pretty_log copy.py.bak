import time

from rich.live import Live
from rich.table import Table

class FeatureTable():
    def __init__(self):
        self.table = Table()
        self.table.add_column()
        self.row_count = 0

    def add_row(self, row: str):
        self.table.add_row(row)
        self.row_count += 1
        return self.row_count
    

table = FeatureTable()

with Live(table.table, refresh_per_second=4):
    for row in range(12):
        time.sleep(0.4)  # arbitrary delay
        # update the renderable internally
        table.add_row(f"{row} description {row} [red]ERROR")